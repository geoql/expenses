<template>
  <div
    class="flex items-center justify-between w-full h-10 px-4 border-b border-gray-300 shadow dark:border-gray-700"
  >
    <div title="Dashboard" class="visible">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="w-8 h-8 transition-colors duration-300 cursor-pointer fill-current"
        data-name="Layer 1"
        viewBox="0 0 512 512"
        :class="[isDark ? 'text-white' : 'text-gray-900']"
        @click="$router.push({ name: 'index' })"
      >
        <defs />
        <path
          d="M368.067 26.729a111.854 111.854 0 00-77.8 192.234l-22.414 50.554a121 121 0 00-73.1-27.367 5.917 5.917 0 00-1.3-.032c-.81-.016-1.621-.031-2.434-.031s-1.623.015-2.433.031a5.874 5.874 0 00-1.3.032 121.328 121.328 0 00-87.1 40.792c-.035.028-.071.052-.1.081a6 6 0 00-1.1 1.277 121.363 121.363 0 000 158.758 6.027 6.027 0 001.1 1.277c.033.03.07.054.105.082a121.328 121.328 0 0087.086 40.791 5.863 5.863 0 00.824.064c.155 0 .307-.02.461-.032.819.017 1.638.031 2.462.031s1.642-.014 2.461-.031c.154.012.306.032.461.032a5.9 5.9 0 00.825-.064 121.333 121.333 0 0087.1-40.8c.023-.019.049-.032.072-.052a5.991 5.991 0 001.125-1.3 121.363 121.363 0 000-158.743 6.032 6.032 0 00-1.124-1.3c-.028-.024-.057-.043-.085-.066-.439-.493-.879-.984-1.327-1.47l58.742-34.76a111.874 111.874 0 1028.8-219.979zM300.444 358h-37.563a160 160 0 00-7.07-43.4 119.681 119.681 0 0021.9-17.644A108.934 108.934 0 01300.444 358zm-22.737 72.806a119.714 119.714 0 00-21.895-17.645A164.842 164.842 0 00262.881 370h37.563a108.187 108.187 0 01-22.737 60.806zM81.591 370h37.563a164.524 164.524 0 007.107 43.2 121.743 121.743 0 00-21.914 17.713A108.463 108.463 0 0181.591 370zm22.756-73.151a121.8 121.8 0 0021.915 17.715A159.663 159.663 0 00119.154 358H81.591a109.211 109.211 0 0122.756-61.151zM197 332.821a119.381 119.381 0 0048.063-12.2A147.221 147.221 0 01250.871 358H197zm0-12.01v-64.328c20 11.268 35.026 29.538 44.128 52.513A106.216 106.216 0 01197 320.811zm-12-64.328v64.307a111.567 111.567 0 01-44.082-11.91C150.024 285.96 165 267.732 185 256.483zm0 76.317V358h-53.836a147.523 147.523 0 015.826-37.506A120.331 120.331 0 00185 332.8zM131.164 370H185v24.56a120.778 120.778 0 00-48.011 12.628A152.318 152.318 0 01131.164 370zM185 406.57v64.311c-20-11.252-34.977-29.481-44.083-52.4A111.661 111.661 0 01185 406.57zm12 64.311v-64.335a106.1 106.1 0 0144.129 11.816C232.028 441.337 217 459.61 197 470.881zm0-76.345V370h53.871a151.99 151.99 0 01-5.806 37.058A119.567 119.567 0 00197 394.536zm54.627-91.687c-7.356-17.874-18.12-33.144-31.782-44.907a109.478 109.478 0 0143.426 23.41 5.983 5.983 0 005.989 5.808c.041 0 .082-.007.123-.008.147.151.3.3.441.452a108.056 108.056 0 01-18.197 15.245zm-89.437-44.907c-13.635 11.74-24.385 26.974-31.741 44.8a109.426 109.426 0 01-18.22-15.162 109.69 109.69 0 0149.961-29.638zm-49.961 181.832a109.332 109.332 0 0118.219-15.161c7.354 17.827 18.1 33.06 31.735 44.8a109.673 109.673 0 01-49.954-29.639zm107.624 29.64c13.659-11.764 24.42-27.033 31.775-44.9a108.1 108.1 0 0118.2 15.246 109.684 109.684 0 01-49.975 29.654zM368.067 238.46a99.483 99.483 0 01-27.97-3.979 6.011 6.011 0 00-4.742.595l-53.008 31.368 20.628-46.527a6 6 0 00-1.486-6.9 99.854 99.854 0 1166.578 25.446z"
        />
        <path
          d="M368.067 92.376a19.021 19.021 0 0119 19 5.984 5.984 0 1011.967 0A31.309 31.309 0 00374 80.964V72.64a6 6 0 10-12 0v8.324a31 31 0 006.051 61.412 19 19 0 01.2 37.991c-.062 0-.12-.01-.182-.01s-.121.008-.182.01a19.016 19.016 0 01-18.816-18.991 6.017 6.017 0 00-12.033 0A31.249 31.249 0 00362 191.788v9.461a6 6 0 1012 0v-9.461a31 31 0 00-5.949-61.412 19 19 0 01.016-38zM114 212.6l37.015 21.9a6 6 0 008.541-7.6l-14.296-32.225A65.821 65.821 0 10114 212.6zm-69.93-64.06a54 54 0 1190 40.241 6 6 0 00-1.485 6.9l8.4 18.94-23.048-13.64a6 6 0 00-4.742-.594 54.032 54.032 0 01-69.122-51.85z"
        />
        <path
          d="M104 184.055v-3.342a20.489 20.489 0 0014.2-19.257 20.178 20.178 0 00-20.152-20.169 8.169 8.169 0 118.183-8.169 5.984 5.984 0 1011.968 0A20.489 20.489 0 00104 113.861v-2.7a6 6 0 10-12 0v2.7a20.429 20.429 0 00-14.135 19.257 20.206 20.206 0 0020.186 20.169 8.167 8.167 0 01.119 16.333c-.037 0-.069-.006-.105-.006s-.069 0-.105.006a8.176 8.176 0 01-8.062-8.164 6.017 6.017 0 00-12.033 0A20.428 20.428 0 0092 180.713v3.342a6 6 0 0012 0z"
        />
      </svg>
    </div>
    <div class="flex items-center space-x-2">
      <div class="text-sm">
        <span>
          {{ map.zoom.toFixed(2) }}
        </span>
        <span class="opacity-50">
          [{{ map.latitude.toFixed(2) }}, {{ map.longitude.toFixed(2) }}]
        </span>
      </div>
      <div tile="Theme Picker" class="visible">
        <svg
          v-if="!isDark"
          xmlns="http://www.w3.org/2000/svg"
          class="w-5 h-5 cursor-pointer outline-none"
          viewBox="0 0 24 24"
          @click="toggleDark()"
        >
          <path
            fill="currentColor"
            d="M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z"
          />
        </svg>
        <svg
          v-if="isDark"
          xmlns="http://www.w3.org/2000/svg"
          class="w-5 h-5 cursor-pointer outline-none"
          viewBox="0 0 512 512"
          @click="toggleDark()"
        >
          <path
            fill="currentColor"
            d="M256 387c-8.5 0-15.4 6.9-15.4 15.4v46.2c0 8.5 6.9 15.4 15.4 15.4s15.4-6.9 15.4-15.4v-46.2c0-8.5-6.9-15.4-15.4-15.4zm0-339c-8.5 0-15.4 6.9-15.4 15.4v46.2c0 8.5 6.9 15.4 15.4 15.4s15.4-6.9 15.4-15.4V63.4c0-8.5-6.9-15.4-15.4-15.4zM125 256c0-8.5-6.9-15.4-15.4-15.4H63.4c-8.5 0-15.4 6.9-15.4 15.4s6.9 15.4 15.4 15.4h46.2c8.5 0 15.4-6.9 15.4-15.4zm323.6-15.4h-46.2c-8.5 0-15.4 6.9-15.4 15.4s6.9 15.4 15.4 15.4h46.2c8.5 0 15.4-6.9 15.4-15.4s-6.9-15.4-15.4-15.4zM152.5 344.1c-4.1 0-8 1.6-10.9 4.5l-32.7 32.7c-2.9 2.9-4.5 6.8-4.5 10.9s1.6 8 4.5 10.9c2.9 2.9 6.8 4.5 10.9 4.5 4.1 0 8-1.6 10.9-4.5l32.7-32.7c6-6 6-15.8 0-21.8-2.9-2.9-6.8-4.5-10.9-4.5zm207-176.2c4.1 0 8-1.6 10.9-4.5l32.7-32.7c2.9-2.9 4.5-6.8 4.5-10.9s-1.6-8-4.5-10.9c-2.9-2.9-6.8-4.5-10.9-4.5-4.1 0-8 1.6-10.9 4.5l-32.7 32.7c-2.9 2.9-4.5 6.8-4.5 10.9s1.6 8 4.5 10.9c2.9 2.9 6.8 4.5 10.9 4.5zm-228.8-59c-2.9-2.9-6.8-4.5-10.9-4.5-4.1 0-8 1.6-10.9 4.5-2.9 2.9-4.5 6.8-4.5 10.9 0 4.1 1.6 8 4.5 10.9l32.7 32.7c2.9 2.9 6.8 4.5 10.9 4.5 4.1 0 8-1.6 10.9-4.5 2.9-2.9 4.5-6.8 4.5-10.9s-1.6-8-4.5-10.9l-32.7-32.7zm239.7 239.7c-2.9-2.9-6.8-4.5-10.9-4.5-4.1 0-8 1.6-10.9 4.5-6 6-6 15.8 0 21.8l32.7 32.7c2.9 2.9 6.8 4.5 10.9 4.5 4.1 0 8-1.6 10.9-4.5 2.9-2.9 4.5-6.8 4.5-10.9s-1.6-8-4.5-10.9l-32.7-32.7zM256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96z"
          />
        </svg>
      </div>
    </div>
  </div>
</template>

<script lang="ts">
  import { defineComponent } from 'vue';
  import { useDark, useToggle } from '@vueuse/core';
  import { useMap } from '@/stores/useMap';

  export default defineComponent({
    name: 'Header',
    setup() {
      const isDark = useDark();
      const map = useMap();

      const toggleDark = useToggle(isDark);

      return {
        isDark,
        map: map.$state.map.state,
        toggleDark,
      };
    },
  });
</script>
